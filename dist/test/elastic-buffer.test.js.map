{"version":3,"file":"elastic-buffer.test.js","sourceRoot":"","sources":["../../src/test/elastic-buffer.test.ts"],"names":[],"mappings":"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","sourcesContent":["import { ElasticBuffer, AsciiChars } from '../buffer'\r\n\r\ntest('1 char in buffer length 1', () => {\r\n  const buffer = new ElasticBuffer(1)\r\n  buffer.writeChar(AsciiChars.Dot)\r\n  expect(buffer.getPos()).toEqual(1)\r\n  expect(buffer.toString()).toEqual('.')\r\n  expect(buffer.currentSize()).toEqual(1)\r\n})\r\n\r\ntest('string', () => {\r\n  const s: string = 'fixing up fix'\r\n  const buffer = new ElasticBuffer(1)\r\n  buffer.writeString(s)\r\n  expect(buffer.getPos()).toEqual(s.length)\r\n  expect(buffer.toString()).toEqual(s)\r\n  expect(buffer.currentSize()).toEqual(16)\r\n})\r\n\r\ntest('whole number', () => {\r\n  const n: number = 12345\r\n  const buffer = new ElasticBuffer(10)\r\n  buffer.writeWholeNumber(n)\r\n  const asString = buffer.toString()\r\n  expect(buffer.getPos()).toEqual(asString.length)\r\n  expect(asString).toEqual('12345')\r\n  expect(buffer.getWholeNumber(0, asString.length - 1)).toEqual(n)\r\n  expect(buffer.currentSize() === 10)\r\n})\r\n\r\ntest('-ve number', () => {\r\n  const n: number = -2468\r\n  const buffer = new ElasticBuffer(10)\r\n  buffer.writeWholeNumber(n)\r\n  const asString = buffer.toString()\r\n  expect(buffer.getPos()).toEqual(asString.length)\r\n  expect(asString).toEqual('-2468')\r\n  expect(buffer.getWholeNumber(0, asString.length - 1)).toEqual(n)\r\n  expect(buffer.currentSize()).toEqual(10)\r\n})\r\n\r\ntest('+ve number with explicit sign', () => {\r\n  const n: number = 2468\r\n  const buffer = new ElasticBuffer(10)\r\n  buffer.writeString(`+${n}`)\r\n  const asString = buffer.toString()\r\n  expect(asString).toEqual('+2468')\r\n  expect(buffer.getWholeNumber(0, asString.length - 1)).toEqual(n)\r\n})\r\n\r\ntest('floating point', () => {\r\n  const n: number = 12345.6789\r\n  const buffer = new ElasticBuffer(10)\r\n  buffer.writeNumber(n)\r\n  const asString = buffer.toString()\r\n  expect(buffer.getPos()).toEqual(asString.length)\r\n  expect(asString).toEqual('12345.6789')\r\n  expect(buffer.getFloat(0, asString.length - 1)).toEqual(n)\r\n  expect(buffer.currentSize()).toEqual(10)\r\n})\r\n\r\ntest('floating point 1 dp', () => {\r\n  const n: number = 12345678.9\r\n  const buffer = new ElasticBuffer(10)\r\n  buffer.writeNumber(n)\r\n  const asString = buffer.toString()\r\n  expect(buffer.getPos()).toEqual(asString.length)\r\n  expect(asString).toEqual('12345678.9')\r\n  expect(buffer.getFloat(0, asString.length - 1)).toEqual(n)\r\n  expect(buffer.currentSize()).toEqual(10)\r\n})\r\n\r\ntest('-ve floating point', () => {\r\n  const n: number = -12345.6789\r\n  const buffer = new ElasticBuffer(10)\r\n  buffer.writeNumber(n)\r\n  const asString = buffer.toString()\r\n  expect(buffer.getPos()).toEqual(asString.length)\r\n  expect(buffer.toString()).toEqual('-12345.6789')\r\n  expect(buffer.getFloat(0, asString.length - 1)).toEqual(n)\r\n  expect(buffer.currentSize()).toEqual(20)\r\n})\r\n\r\ntest('floating point many dp', () => {\r\n  const n: number = 0.123456789\r\n  const buffer = new ElasticBuffer(10)\r\n  buffer.writeNumber(n)\r\n  const asString = buffer.toString()\r\n  expect(buffer.getPos()).toEqual(asString.length)\r\n  expect(asString).toEqual('0.123456789')\r\n  expect(buffer.getFloat(0, asString.length - 1)).toEqual(n)\r\n  expect(buffer.currentSize()).toEqual(20)\r\n})\r\n\r\ntest('simple floating point 3.90', () => {\r\n  const n: number = 3.90\r\n  const buffer = new ElasticBuffer(10)\r\n  buffer.writeNumber(n)\r\n  const asString = buffer.toString()\r\n  expect(buffer.getPos()).toEqual(asString.length)\r\n  expect(asString).toEqual('3.9')\r\n  expect(buffer.getFloat(0, asString.length - 1)).toEqual(n)\r\n  expect(buffer.currentSize()).toEqual(10)\r\n})\r\n\r\ntest('simple floating point 35.77', () => {\r\n  const n: number = 35.77\r\n  const buffer = new ElasticBuffer(10)\r\n  buffer.writeNumber(n)\r\n  const asString = buffer.toString()\r\n  expect(buffer.getPos()).toEqual(asString.length)\r\n  expect(asString).toEqual('35.77')\r\n  expect(buffer.getFloat(0, asString.length - 1)).toEqual(n)\r\n  expect(buffer.currentSize()).toEqual(10)\r\n})\r\n\r\ntest('simple floating point 0.058457', () => {\r\n  const n: number = 0.058457\r\n  const buffer = new ElasticBuffer(10)\r\n  buffer.writeNumber(n)\r\n  const asString = buffer.toString()\r\n  expect(buffer.getPos()).toEqual(asString.length)\r\n  expect(asString).toEqual('0.058457')\r\n  expect(buffer.getFloat(0, asString.length - 1)).toEqual(n)\r\n  expect(buffer.currentSize()).toEqual(10)\r\n})\r\n\r\ntest('simple floating point -0.06445', () => {\r\n  const n: number = -0.06445\r\n  const buffer = new ElasticBuffer(10)\r\n  buffer.writeNumber(n)\r\n  const asString = buffer.toString()\r\n  expect(buffer.getPos()).toEqual(asString.length)\r\n  expect(asString).toEqual('-0.06445')\r\n  expect(buffer.getFloat(0, asString.length - 1)).toEqual(n)\r\n  expect(buffer.currentSize()).toEqual(10)\r\n})\r\n\r\ntest('whole number as floating point', () => {\r\n  const n: number = 123456789\r\n  const buffer = new ElasticBuffer(10)\r\n  buffer.writeNumber(n)\r\n  const asString = buffer.toString()\r\n  expect(buffer.getPos()).toEqual(asString.length)\r\n  expect(asString.toString()).toEqual('123456789')\r\n  expect(buffer.getFloat(0, asString.length - 1)).toEqual(n)\r\n  expect(buffer.currentSize()).toEqual(10)\r\n})\r\n\r\ntest('tiny floating point', () => {\r\n  const n: number = 0.000000000001\r\n  const buffer = new ElasticBuffer(10)\r\n  buffer.writeNumber(n)\r\n  const asString = buffer.toString()\r\n  expect(buffer.getPos()).toEqual(14)\r\n  expect(asString).toEqual('0.000000000001')\r\n  expect(buffer.getFloat(0, asString.length - 1)).toEqual(n)\r\n  expect(buffer.currentSize()).toEqual(20)\r\n})\r\n\r\ntest('tiny -ve floating point', () => {\r\n  const n: number = -0.000000000001\r\n  const buffer = new ElasticBuffer(10)\r\n  buffer.writeNumber(n)\r\n  const asString = buffer.toString()\r\n  expect(buffer.getPos()).toEqual(asString.length)\r\n  expect(asString).toEqual('-0.000000000001')\r\n  expect(buffer.getFloat(0, asString.length - 1)).toEqual(n)\r\n  expect(buffer.currentSize()).toEqual(20)\r\n})\r\n\r\ntest('tiny +ve floating point with sign', () => {\r\n  const n: number = 0.000000000001\r\n  const buffer = new ElasticBuffer(10)\r\n  buffer.writeString(`+${n.toFixed(12)}`)\r\n  const asString = buffer.toString()\r\n  expect(buffer.getPos()).toEqual(asString.length)\r\n  expect(asString).toEqual('+0.000000000001')\r\n  expect(buffer.getFloat(0, asString.length - 1)).toEqual(n)\r\n  expect(buffer.currentSize()).toEqual(20)\r\n})\r\n\r\ntest('boolean true', () => {\r\n  const buffer = new ElasticBuffer(1)\r\n  buffer.writeBoolean(true)\r\n  expect(buffer.getPos()).toEqual(1)\r\n  expect(buffer.toString()).toEqual('Y')\r\n  expect(buffer.currentSize()).toEqual(1)\r\n  expect(buffer.getBoolean(0)).toBe(true)\r\n})\r\n\r\ntest('boolean false', () => {\r\n  const buffer = new ElasticBuffer(1)\r\n  buffer.writeBoolean(false)\r\n  expect(buffer.getPos()).toEqual(1)\r\n  expect(buffer.toString()).toEqual('N')\r\n  expect(buffer.currentSize()).toEqual(1)\r\n  expect(buffer.getBoolean(0)).toBe(false)\r\n})\r\n\r\ntest('write buffer', () => {\r\n  const buffer = new ElasticBuffer(1)\r\n  const s: string = 'fixing up fix'\r\n  const b = Buffer.from(s)\r\n  buffer.writeBuffer(b)\r\n  expect(buffer.getPos()).toEqual(b.length)\r\n  expect(buffer.toString()).toEqual(s)\r\n  expect(buffer.currentSize() === 16)\r\n  const fetched: Buffer = buffer.getBuffer(0, b.length)\r\n  expect(fetched).toEqual(b)\r\n})\r\n\r\ntest('buffer shrinks', () => {\r\n  const buffer = new ElasticBuffer(1)\r\n  const s = '.'.repeat(60 * 1024)\r\n  buffer.writeString(s)\r\n  expect(buffer.getPos()).toEqual(s.length)\r\n  expect(buffer.toString()).toEqual(s)\r\n  expect(buffer.currentSize()).toEqual(65536)\r\n  expect(buffer.reset()).toBe(true)\r\n  expect(buffer.getPos()).toEqual(0)\r\n  expect(buffer.currentSize() < 60 * 1024).toBe(true)\r\n})\r\n"]}