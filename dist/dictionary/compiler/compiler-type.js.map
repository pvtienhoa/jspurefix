{"version":3,"file":"compiler-type.js","sourceRoot":"","sources":["../../../src/dictionary/compiler/compiler-type.ts"],"names":[],"mappings":";;AAAA,4CAAkI;AAElI,kDAAqD;AACrD,sDAAoD;AAEpD,4BAA4B;AAE5B,MAAa,YAAY;IAEvB,YAA6B,WAA2B,EAAkB,GAAsB,EAAkB,aAAqB;QAA1G,gBAAW,GAAX,WAAW,CAAgB;QAAkB,QAAG,GAAH,GAAG,CAAmB;QAAkB,kBAAa,GAAb,aAAa,CAAQ;QACrI,MAAM,KAAK,GAAG,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAA;QAC7C,IAAI,GAAG,CAAC,IAAI,KAAK,iCAAgB,CAAC,GAAG,EAAE;YACrC,IAAI,CAAC,MAAM,GAAG,KAAK,KAAK,EAAE,CAAA;SAC3B;aAAM;YACL,IAAI,CAAC,MAAM,GAAG,SAAS,KAAK,EAAE,CAAA;SAC/B;IACH,CAAC;IAEM,WAAW,CAAE,KAAqB;QACvC,QAAQ,KAAK,CAAC,IAAI,EAAE;YAClB,KAAK,8BAAkB,CAAC,KAAK,CAAC,CAAC;gBAC7B,MAAM,EAAE,GAAG,KAA4B,CAAA;gBACvC,QAAQ,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;oBAC/B,KAAK,kCAAmB,CAAC,QAAQ,CAAC,CAAC;wBACjC,OAAO,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC,IAAI,CAAA;qBACvC;oBAED,KAAK,kCAAmB,CAAC,SAAS,CAAC,CAAC;wBAClC,OAAO,EAAE,CAAC,UAAU,CAAC,IAAI,CAAA;qBAC1B;oBACD,OAAO,CAAC,CAAC;wBACP,OAAO,KAAK,CAAC,IAAI,CAAA;qBAClB;iBACF;aACF;YAED,KAAK,8BAAkB,CAAC,SAAS,CAAC,CAAC;gBACjC,MAAM,EAAE,GAAG,KAAgC,CAAA;gBAC3C,QAAQ,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;oBAC/B,KAAK,kCAAmB,CAAC,SAAS,CAAC,CAAC;wBAClC,OAAO,EAAE,CAAC,UAAU,CAAC,IAAI,CAAA;qBAC1B;oBACD,OAAO,CAAC,CAAC;wBACP,OAAO,KAAK,CAAC,IAAI,CAAA;qBAClB;iBACF;aACF;YAED;gBACE,OAAO,KAAK,CAAC,IAAI,CAAA;SACpB;IACH,CAAC;IAEM,iBAAiB,CAAE,KAAqB;QAC7C,QAAQ,KAAK,CAAC,IAAI,EAAE;YAClB,KAAK,8BAAkB,CAAC,KAAK,CAAC,CAAC;gBAC7B,MAAM,EAAE,GAAG,KAA4B,CAAA;gBACvC,QAAQ,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;oBAC/B,KAAK,kCAAmB,CAAC,SAAS,CAAC,CAAC;wBAClC,OAAO,EAAE,CAAC,UAAU,CAAC,IAAI,CAAA;qBAC1B;oBACD,OAAO,CAAC,CAAC;wBACP,OAAO,KAAK,CAAC,IAAI,CAAA;qBAClB;iBACF;aACF;YACD;gBACE,OAAO,KAAK,CAAC,IAAI,CAAA;SACpB;IACH,CAAC;CACF;AA/DD,oCA+DC","sourcesContent":["import { ContainedField, ContainedFieldType, ContainedFieldSet, ContainedGroupField, ContainedComponentField } from '../contained'\r\nimport { FixDefinitions } from '../definition'\r\nimport { FixDefinitionSource } from '../fix-versions'\r\nimport { ContainedSetType } from '../dict-primitive'\r\n\r\nimport _ = require('lodash')\r\n\r\nexport class CompilerType {\r\n  public readonly snaked: string\r\n  constructor (public readonly definitions: FixDefinitions, public readonly set: ContainedFieldSet, public readonly qualifiedName: string) {\r\n    const snake = _.snakeCase(this.qualifiedName)\r\n    if (set.type === ContainedSetType.Msg) {\r\n      this.snaked = `./${snake}`\r\n    } else {\r\n      this.snaked = `./set/${snake}`\r\n    }\r\n  }\r\n\r\n  public getExtended (field: ContainedField): string {\r\n    switch (field.type) {\r\n      case ContainedFieldType.Group: {\r\n        const gf = field as ContainedGroupField\r\n        switch (this.definitions.source) {\r\n          case FixDefinitionSource.QuickFix: {\r\n            return this.qualifiedName + field.name\r\n          }\r\n\r\n          case FixDefinitionSource.FixmlRepo: {\r\n            return gf.definition.name\r\n          }\r\n          default: {\r\n            return field.name\r\n          }\r\n        }\r\n      }\r\n\r\n      case ContainedFieldType.Component: {\r\n        const cf = field as ContainedComponentField\r\n        switch (this.definitions.source) {\r\n          case FixDefinitionSource.FixmlRepo: {\r\n            return cf.definition.name\r\n          }\r\n          default: {\r\n            return field.name\r\n          }\r\n        }\r\n      }\r\n\r\n      default:\r\n        return field.name\r\n    }\r\n  }\r\n\r\n  public getFieldGroupName (field: ContainedField) {\r\n    switch (field.type) {\r\n      case ContainedFieldType.Group: {\r\n        const gf = field as ContainedGroupField\r\n        switch (this.definitions.source) {\r\n          case FixDefinitionSource.FixmlRepo: {\r\n            return gf.definition.name\r\n          }\r\n          default: {\r\n            return field.name\r\n          }\r\n        }\r\n      }\r\n      default:\r\n        return field.name\r\n    }\r\n  }\r\n}\r\n"]}