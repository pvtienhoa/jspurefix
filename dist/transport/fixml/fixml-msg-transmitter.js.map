{"version":3,"file":"fixml-msg-transmitter.js","sourceRoot":"","sources":["../../../src/transport/fixml/fixml-msg-transmitter.ts"],"names":[],"mappings":";;AAAA,yCAA2C;AAE3C,wDAAmD;AAGnD,MAAa,mBAAoB,SAAQ,gCAAc;IAGrD,YAA6B,MAAoB;QAC/C,KAAK,CAAC,MAAM,CAAC,WAAW,EAAE,MAAM,CAAC,WAAW,CAAC,CAAA;QADlB,WAAM,GAAN,MAAM,CAAc;QAE/C,IAAI,CAAC,OAAO,GAAG,IAAI,qBAAY,CAAC,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,WAAW,CAAC,CAAA;IAClE,CAAC;IAEM,aAAa,CAAE,OAAe,EAAE,GAAiB;QACtD,MAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAA;QAChE,IAAI,OAAO,EAAE;YACX,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,CAAA;SAC9B;QACD,MAAM,EAAE,GAAG,IAAI,CAAC,OAAuB,CAAA;QACvC,MAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAA;QACnC,GAAG,CAAC,cAAc,GAAG,OAAO,CAAC,MAAM,EAAE,CAAA;QACrC,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,OAAO,CAAC,CAAA;IACzB,CAAC;CACF;AAlBD,kDAkBC","sourcesContent":["import { FixmlEncoder } from '../../buffer'\r\nimport { IJsFixConfig } from '../../config'\r\nimport { MsgTransmitter } from '../msg-transmitter'\r\nimport { ILooseObject } from '../../collections/collection'\r\n\r\nexport class FixmlMsgTransmitter extends MsgTransmitter {\r\n  public time: Date\r\n\r\n  constructor (public readonly config: IJsFixConfig) {\r\n    super(config.definitions, config.description)\r\n    this.encoder = new FixmlEncoder(this.buffer, config.definitions)\r\n  }\r\n\r\n  public encodeMessage (msgType: string, obj: ILooseObject): void {\r\n    const adapter = this.config.description.application.http.adapter\r\n    if (adapter) {\r\n      adapter.beginMessage(msgType)\r\n    }\r\n    const fe = this.encoder as FixmlEncoder\r\n    const factory = this.config.factory\r\n    obj.StandardHeader = factory.header()\r\n    fe.encode(obj, msgType)\r\n  }\r\n}\r\n"]}